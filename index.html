<!DOCTYPE html>
<html ng-app="brdaStats">
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
</head>
<body ng-controller="StatsController as stats">
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="app.js"></script>

<section ng-controller="PanelController as panel" class="container">
	<ul class="nav nav-pills">
		<li ng-class="{ active:panel.isSelected('members') }">
		 	<a href ng-click="panel.selectTab('members')">Members ({{ stats.members.length }})</a> 
		 </li>
		<li ng-class="{ active:panel.isSelected('games') }">
			<a href ng-click="panel.selectTab('games')">Games ({{ stats.games.length }})</a>
		</li>
	</ul>

	<div class="panel" ng-show="panel.isSelected('members')" style="border: 1px solid black; width:30%">
		<input ng-model="query" type="text" placeholder="Filter by" autofocus>
		<ul>
			<li ng-repeat="member in stats.members | filter:query" ng-class="{ active:stats.isCurrentMember(member.id) }">
				<a href ng-click="stats.setMember(member)">{{ member.username }}</a>
			</li>
		</ul>
	</div>
	
	<div class="panel" ng-show="panel.isSelected('games')" style="border: 1px solid black; width:50%">
		<input ng-model="query" type="text" placeholder="Filter by" autofocus>
		<ul>
			<li ng-repeat="game in stats.games | filter:query" ng-class="{ active:stats.isCurrentGame(game.id) }">
				<a href ng-click="stats.setGame(game)">{{ game.name }}</a>
			</li>
		</ul>
	</div>

	<div class="panel" ng-show="panel.isSelected('members') && stats.currentMember">
		<strong>Stats for {{ stats.currentMember.username }}:</strong><br/>
		{{ stats.currentMember.games.length }} game(s)<br/>
		<ul>
			<li ng-repeat="game in stats.currentMember.games">
				{{ game.name }}<br/>
				Play time: {{ game.playTime / 60 | number:2 }} hours<br/>
			</li>
		</ul>
		
	</div>

	<div class="panel" ng-show="panel.isSelected('games') && stats.currentGame">
		<strong>Stats for {{ stats.currentGame.name }}:</strong><p/>
		Players:
		<ul>
			<li ng-repeat="player in stats.currentGame.players">
				{{ player.name }}
			</li>
		</ul>
	</div>

	</section>

</body>
</html>
